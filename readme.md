# Forward Framework

A WordPress Gulp/Bower build system by [Drawbackwards](http://drawbackwards.com).

## Directory Structure

* `bower.json` - Used by Bower for package control.
* `config.json` - Configuration file used by `gulpfile.js`.
* `gulpfile.js` - All streaming tasks are defined here.
* `pacakge.json` - Used by Gulp to define dependencies.
* `build/`
	* `css/`
		* `style.css` - Generated from `source/scss/`.
		* `style.min.css` - Minified (production) version.
	* `img/` - Optimized images generated from `source/img`.
* `source/`
	* `img/`
	* `scss/`
		* `_normalize.scss` - Managed by Bower.
        * `style.scss` - Main stylesheet using [csscomb](http://csscomb.com/) for standardization.
	* `vendor/` - Used by Bower.

## Prerequisites

* [Node.js](http://nodejs.org/)
   * OSX: [Homebrew](http://brew.sh/)
   * Windows: [Chocolatey](http://chocolatey.org/)
* [Gulp.js](http://gulpjs.com/)

## Initial Project Setup

##### Install Gulp Globally

	$ npm install --global gulp

##### Install Gulp Plugins

	$ npm install

##### Install Bower & Installer Globally

	$ npm install -g bower
	$ npm install -g bower-installer

##### Install Bower Components

	$ bower install
	$ bower-installer

## Project Commands

Running `gulp` will start the watch process & browser-sync.

	$ gulp

## Developer Notes

##### Create Empty `package.json`

	$ npm init

##### Install Gulp as a Dev Dependency

	$ npm install --save-dev gulp

##### Install Gulp Plugins Individually

	$ npm install --save-dev gulp-util
	$ npm install --save-dev gulp-load-plugins
	$ npm install --save-dev browser-sync
	$ npm install --save-dev gulp-autoprefixer
	$ npm install --save-dev gulp-minify-css
	$ npm install --save-dev gulp-combine-media-queries
	$ npm install --save-dev gulp-ruby-sass
	$ npm install --save-dev gulp-rename
	$ npm install --save-dev gulp-changed
	$ npm install --save-dev gulp-imagemin

---

# WordPress-Gulp-Bower-Sass Starter Kit

This is a starter kit for developing WordPress themes with [Gulp](http://gulpjs.com/), [Bower](http://bower.io/), and [Sass](http://sass-lang.com/). No WordPress templates apart from `functions-sample.php` are included; this is simply project scaffolding for efficient theme and plugin development. For more information [check out this post on my blog](http://synapticism.com/wordpress-theme-development-with-gulp-bower-and-sass/).

The core `gulpfile.js` has been adapted from [Matt Banks](http://mattbanks.me/gulp-wordpress-development/). Additional credit is due to [Mark Goodyear](http://markgoodyear.com/2014/01/getting-started-with-gulp/).



## INSTALLATION

* Install Gulp and Bower with `npm install gulp -g` and `npm install bower -g`. Install Sass with `gem install sass`.
* Download or clone the repo and install all dependencies with `npm install` (which will run `bower install`). When you initialize your project npm will fetch the dependencies listed in `package.json`. You may wish to manually check for updates to these dependencies or use `npm update --save-dev` to bump version numbers in `package.json`.
* Edit `gulpfile.js` and change the `project` variable to match the name of your theme.
* Install a [Live Reload](http://livereload.com/) browser extension for [Chrome](https://chrome.google.com/webstore/detail/livereload/jnihajbhpnppcggbcgedagnkighmdlei) or Firefox.
* Copy whatever WordPress starter theme you wish to use into the `src` directory, run `gulp`, and start hacking!
* With Live Reload configured correctly your browser will refresh anytime you edit and save a file under `src`.



## ORGANIZATION

This starter kit is prepped to use three directories to manage theme development workflow from development through testing to production and release:

* `src`: this directory contains the raw material for your theme: templates, styles, scripts, and images. **Only edit files in this directory!**
* `build`: generated by Gulp, this is a working copy of your theme for use in development and testing. Symlink `build` to your `wp-content/themes` directory for local development and testing.
* `dist`: short for distribution, this will be the final, polished copy of your theme for production. You will need to manually run `gulp dist` to create a new distribution. You can also symlink this directory for a final round of testing; just keep in mind that your theme will now be in `dist/project`, where `project` is the variable you set in the Gulp file during installation. This project folder is what you will want to deploy to production.

Note: both the `build` and `dist` directories are disposable and can be regenerated from the materials in `src`.



## USAGE

### Bower

To install new front-end dependencies simply use `bower install [package] --save-dev`.

### Styles

* Sass files belong in `/src/scss`. Gulp will not process Sass partials beginning with `_`. These should be referenced by `style.scss` and any other stylesheet you would like to be generated and placed into `build`.
* The `build` folder is provisioned with regular and minified versions of all stylesheets but `dist` only contains minified versions for production.
* Bower components are in the path by default so you can `@import` Sass files directly, as seen in `_base_reset.scss`.
* This starter kit ships with [Normalize.css](https://necolas.github.io/normalize.css/) and [Eric Meyer's reset](http://meyerweb.com/eric/tools/css/reset/).
* Compass is not included as [Autoprefixer](https://github.com/ai/autoprefixer) eliminates the need for vendor prefixing (which is what most Sass frameworks focus on). If you're looking for a Sass mixin library for the post-vendor prefixing era try [Scut](https://davidtheclark.github.io/scut/).

### Scripts

JavaScript files should be kept in `src/js`.

Managing front-end scripts requires more manual configuration. For this you'll need to open up `gulpfile.js` and create a task representing an individual script bundle:

```
// An example task for extra scripts that aren't loaded on every page
gulp.task('scripts-extras', function() {
  return gulp.src([
    bower+'dependency/dependency.js'
  , source+'js/extras.js'
  ])
  .pipe(plugins.concat('extras.js'))
  .pipe(gulp.dest(build+'js/'));
});
```

In this example the `scripts-extras` task concatenates `dependency.js` and `extras.js` to create a new bundle that is then conditionally enqueued in WordPress. If you don't need more than one bundle you can always just add to the list of files used to generate `core.js`.

### Images

Images are simply copied from wherever they are in `src` to the same location under `build`. They are, however, optimized when you run `gulp dist`.

### PHP

Like images, PHP files can go anywhere under `src` and will be copied to `build` and `dist` while preserving directory structure.

### Other files

If you have other files you want to push through the asset pipeline you'll have to custom code another Gulp task.



## To do list

* Yeoman generator.
* Automated JavaScript bundle management.
* Source maps.



## LICENSE

Copyright 2014 [Alexander Synaptic](http://alexandersynaptic.com). Licensed under the GPLv3: http://www.gnu.org/licenses/gpl.txt

You are welcome to link back to [my web site](http://synapticism.com) and/or [this GitHub repository](https://github.com/synapticism/wordpress-gulp-bower-sass) if you find this at all useful.
