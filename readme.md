# Forward Framework

A WordPress Gulp/Bower build system by [Drawbackwards](http://drawbackwards.com).

## Organization

The Forward Framework uses three directories to manage theme development:

* `bower.json` - Used by Bower for package control.
* `config.json` - Configuration file used by `gulpfile.js`.
* `gulpfile.js` - All streaming tasks are defined here.
* `package.json` - Used by Gulp to define dependencies.
* `build/` - Generated by Gulp, this is a working copy of your theme for use in development and testing. Symlink `build` to your `wp-content/themes` directory for local development and testing.
* `src/` - This directory contains the raw material for your theme: templates, styles, scripts, and images. **Only edit files in this directory!**
	* `img/`
	* `scss/`
        * `style.scss` - Main stylesheet using [csscomb](http://csscomb.com/) for standardization.
	* `vendor/` - Used by Bower.
* `dist/` - This will be the final, polished copy of your theme for production. You will need to manually run `gulp dist` to create a new distribution. You can also symlink this directory for a final round of testing; just keep in mind that your theme will now be in `dist/project`, where `project` is the variable you set in the Gulp file during installation. This project folder is what you will want to deploy to production.

Note: both the `build/` and `dist/` directories are disposable and can be regenerated from the materials in `src/`.

## Prerequisites

* [Node.js](http://nodejs.org/)
   * OSX: [Homebrew](http://brew.sh/)
   * Windows: [Chocolatey](http://chocolatey.org/)
* [Gulp.js](http://gulpjs.com/)

## Initial Project Setup

##### Install Gulp Globally

	$ npm install --global gulp

##### Install Gulp Plugins

	$ npm install

##### Install Bower & Installer Globally

	$ npm install -g bower
	$ npm install -g bower-installer

##### Install Bower Components

	$ bower install
	$ bower-installer

Install new components using `bower install [package] --save-dev`.

## Project Commands

Running `gulp` will start the watch process & browser-sync.

	$ gulp

### Scripts

JavaScript files should be kept in `src/js`.

Managing front-end scripts requires more manual configuration. For this you'll need to open up `gulpfile.js` and create a task representing an individual script bundle:

```
// An example task for extra scripts that aren't loaded on every page
gulp.task('scripts-extras', function() {
  return gulp.src([
    bower+'dependency/dependency.js'
  , source+'js/extras.js'
  ])
  .pipe(plugins.concat('extras.js'))
  .pipe(gulp.dest(build+'js/'));
});
```

In this example the `scripts-extras` task concatenates `dependency.js` and `extras.js` to create a new bundle that is then conditionally enqueued in WordPress. If you don't need more than one bundle you can always just add to the list of files used to generate `core.js`.

### Images

Images are simply copied from wherever they are in `src` to the same location under `build`. They are, however, optimized when you run `gulp dist`.

### PHP

Like images, PHP files can go anywhere under `src` and will be copied to `build` and `dist` while preserving directory structure.

## License

* Licensed under the [GPLv3](http://www.gnu.org/licenses/gpl.txt).

## Credits

* Adapted from [synapticism/wordpress-gulp-bower-sass](https://github.com/synapticism/wordpress-gulp-bower-sass).
* [Normalize.css](https://necolas.github.io/normalize.css/)
* [Eric Meyer's reset](http://meyerweb.com/eric/tools/css/reset/).

---

## Additional Developer Notes

##### Create Empty `package.json`

	$ npm init

##### Install Gulp as a Dev Dependency

	$ npm install --save-dev gulp

##### Install Gulp Plugins Individually

	$ npm install --save-dev gulp-util
	$ npm install --save-dev gulp-load-plugins
	$ npm install --save-dev browser-sync
	$ npm install --save-dev gulp-autoprefixer
	$ npm install --save-dev gulp-minify-css
	$ npm install --save-dev gulp-combine-media-queries
	$ npm install --save-dev gulp-ruby-sass
	$ npm install --save-dev gulp-rename
	$ npm install --save-dev gulp-changed
	$ npm install --save-dev gulp-imagemin


---

# Legacy Notes

## Installation

* Install Gulp and Bower with `npm install gulp -g` and `npm install bower -g`. Install Sass with `gem install sass`.
* Download or clone the repo and install all dependencies with `npm install` (which will run `bower install`). When you initialize your project npm will fetch the dependencies listed in `package.json`. You may wish to manually check for updates to these dependencies or use `npm update --save-dev` to bump version numbers in `package.json`.
* Edit `gulpfile.js` and change the `project` variable to match the name of your theme.
* Install a [Live Reload](http://livereload.com/) browser extension for [Chrome](https://chrome.google.com/webstore/detail/livereload/jnihajbhpnppcggbcgedagnkighmdlei) or Firefox.
* Copy whatever WordPress starter theme you wish to use into the `src` directory, run `gulp`, and start hacking!
* With Live Reload configured correctly your browser will refresh anytime you edit and save a file under `src`.