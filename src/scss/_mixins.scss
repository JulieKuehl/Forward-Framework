// Mixins
// ------
// Mixins allow you to define styles that can be re-used
// throughout the stylesheet without needing to resort to
// non-semantic classes like .float-left. Mixins can also
// contain full CSS rules, and anything else allowed
// elsewhere in a Sass document. They can even take
// arguments which allows you to produce a wide variety
// of styles with very few mixins.
//
// For complete documentation:
// Sass mixins:     http://sass-lang.com/docs/yardoc/file.SASS_REFERENCE.html#mixins
// Bourbon mixins:  http://bourbon.io/docs/

// Import variables for use in Mixins.
// 
@import '_variables';

@function px($value) {
    @return em($value, 14);
}

// Standard unit of measurement to keep things simple
// 
@function unit($value) {
    @return 15 * $value + px;
}

// Wrapper for modular scale function
// 
@function ms($value: 0) {
    @return modular-scale(1em, $value, $perfect-fourth);
}

// Helvetica font weights
// 
@mixin helvetica-weight($weight: light) {
    @if $weight == thin {
        font-weight: 100;
    }
    @if $weight == light {
        font-weight: 300;
    }
    @if $weight == regular {
        font-weight: 400;
    }
    @if $weight == semibold {
        font-weight: 600;
    }
    @if $weight == bold {
        font-weight: 700;
    }
}

// Source Sans Pro font weights
// 
@mixin source-sans-weight($weight: light) {
    @if $weight == light {
        font-weight: 300;
    }
    @if $weight == normal {
        font-weight: 400;
    }
    @if $weight == semi-bold {
        font-weight: 600;
    }
}

// Predefined Type Styles
// 
@mixin type-style($style: default) {
    @if $style == h1 {
        @include source-sans-weight(normal);
        @include media($tablet) {
            font-size: px(36);
        }

        &:first-child {
            margin-top: 0;
        }

        font-size: ms(4);
        line-height: ms(0);

        margin-top: ms(-2);
        margin-bottom: ms(-2);
        margin-left: -3px;
    }
    @if $style == h2 {
        @include source-sans-weight(normal);

        font-size: ms(2);
        line-height: ms(0);

        margin-top: ms(0);
        margin-bottom: ms(-1);
    }
    @if $style == h3 {
        @include source-sans-weight(semi-bold);

        font-size: ms(1);
        line-height: ms(0);

        margin-top: ms(0);
        margin-bottom: ms(0);
    }
    @if $style == h4 {
        @include source-sans-weight(semi-bold);

        font-size: ms(0);
        line-height: ms(0);

        margin-top: ms(0);
        margin-bottom: ms(0);

        text-transform: uppercase;
    }
    @if $style == h5 {
        @include source-sans-weight(semi-bold);

        font-size: ms(0);
        line-height: ms(0);

        margin-top: ms(0);
        margin-bottom: ms(0);
    }
    @if $style == h6 {
        @include source-sans-weight(semi-bold);

        font-size: ms(0);
        line-height: ms(0);

        margin-top: ms(0);
        margin-bottom: ms(0);
    }
    @if $style == small {
        @include line-height(default);

        font-size: .9em;
    }
    @if $style == default {
        @include source-sans-weight(light);
        @include media($tablet) {
            @include source-sans-weight(normal);
        }

        font-family: $source-sans;
        font-size: ms(0);
        line-height: ms(2);

        margin-top: ms(0);
        margin-bottom: ms(0);
    }

}

@mixin line-height($style: default) {
    @if $style == tight {
        line-height: ms(0);
    }
    @if $style == default {
        line-height: ms(1);
    }
    @if $style == loose {
        line-height: ms(2);
    }
    @if $style == double {
        line-height: 2em;
    }
}

@mixin no-wrap {
    white-space: nowrap;
}

@mixin ellipsis {
    overflow: hidden;

    white-space: nowrap;
    text-overflow: ellipsis;
}

@mixin link-hover {
    text-decoration: none;
    &:hover {
        text-decoration: underline;
    }
}
@mixin link-hover-none {
    &:hover {
        text-decoration: none;
    }
}

@mixin double-gutter {
    @include media($tablet) {
        padding-right: 0;
    }

    padding-right: 4.34783%;
}

@mixin link-colors($normal, $hover: false, $active: false, $visited: false, $focus: false) {
    color: $normal;
    @if $visited {
        &:visited {
            color: $visited;
        }
    }
    @if $focus {
        &:focus {
            color: $focus;
        }
    }
    @if $hover {
        &:hover {
            color: $hover;
        }
    }
    @if $active {
        &:active {
            color: $active;
        }
    }
}

@mixin links($style: default) {
    @if $style == hex-white {
        @include link-colors($hex-white, $hex-real-white);
    }
    @if $style == hex-primary {
        @include link-colors($hex-primary, $hex-primary-hover);
    }
    @if $style == hex-secondary {
        @include link-colors($hex-secondary, $hex-secondary-hover);
    }
    @if $style == hex-footer {
        @include link-hover;
        @include link-colors($hex-footer, $hex-footer-hover);
    }
    @if $style == default {
        @include link-colors($hex-default, $hex-default-hover);
        @include link-hover;
    }
}

@mixin no-bullet {
    margin-left: 0;

    list-style-type: none;
    list-style-image: none;
}
@mixin no-bullets {
    padding-left: 0;

    list-style: none;
    li {
        @include zero-left;
        @include no-bullet;
    }
}

@mixin bg-image($filename, $x: left, $y: top, $ext: png ) {
    background-image: url('../images/#{$filename}.#{$ext}');
    background-repeat: no-repeat;
    background-position: $x $y;
}

@mixin bg-image-hidpi($filename, $width, $height, $x: left, $y: top, $ext: png ) {
    @include hidpi {
        background-image: url('../images/#{$filename}@2x.#{$ext}');
        background-size: $width + px $height + px;
    }

    background-image: url('../images/#{$filename}.#{$ext}');
    background-repeat: no-repeat;
    background-position: $x $y;
}

@mixin zero-all {
    margin: 0;
    padding: 0;
}
@mixin zero-top {
    margin-top: 0;
    padding-top: 0;
}
@mixin zero-bottom {
    margin-bottom: 0;
    padding-bottom: 0;
}
@mixin zero-left {
    margin-left: 0;
    padding-left: 0;
}
@mixin zero-right {
    margin-right: 0;
    padding-right: 0;
}
@mixin zero-last {
    &:last-child {
        @include zero-bottom;
    }
}

@mixin hide {
    display: none;
    visibility: hidden;
}

@mixin code {
    font-family: $mono;
    font-size: 12px;
    line-height: 1.5em;
}

@mixin tablet-single {
    @include media($tablet) {
        @include span-columns(8 of 8);
    }
}
@mixin mobile-single {
    @include media($mobile) {
        @include span-columns(4 of 4);
    }
}
